---
# Required front matter for GitHub Pages to compile SCSS
---

@import "minimal-mistakes";

/* =========================================================
   JARDIN DES SIMPLES — HORTUS LIGHT (PROPRE, RESPONSIVE)
   Objectifs:
   - Desktop/Mac: sidebar = vraie colonne gauche (sobre), header sticky
   - iPhone: header fixed, UN SEUL bouton menu (hamburger) à droite du titre,
            menu déroulant plein-largeur sous la barre (style iOS)
   - Tables: lisibles sur Mac (wrap + largeur contrôlée), scroll horizontal si besoin
   ========================================================= */

/* ---------- Fonts ---------- */
@import url("https://fonts.googleapis.com/css2?family=EB+Garamond:wght@400;600&family=JetBrains+Mono:wght@400;600&display=swap");

/* ---------- Variables ---------- */
:root{
  --paper: #f3efe6;
  --paper2:#fbf8f2;
  --ink:   #171717;
  --muted: #5b5b5b;
  --rule:  rgba(0,0,0,.14);
  --shadow: rgba(0,0,0,.10);
  --toxic: #1d7a50;
  --blood: #8b1d1d;

  /* header heights (approx) */
  --masthead-h: 56px;
}

/* ---------- Base look ---------- */
body{
  background: var(--paper);
  color: var(--ink);
}

.page__content{
  font-family: "EB Garamond", ui-serif, Georgia, serif;
  font-size: 1.08rem;
  line-height: 1.75;
}

h1,h2,h3,h4{
  font-family: "JetBrains Mono", ui-monospace, Menlo, monospace;
  letter-spacing: .2px;
  color: var(--ink);
}

a{ color: var(--toxic); }
a:hover{ color: #0f5e3a; }

blockquote{
  border-left: 3px solid var(--blood);
  padding-left: 1rem;
  color: var(--muted);
}

hr{
  border: 0;
  border-top: 1px solid var(--rule);
  margin: 2rem 0;
}

/* lecture moins étriquée */
.page__inner-wrap, .page__content{
  max-width: 980px;
}

/* ---------- Masthead (header) ---------- */
.masthead{
  background: rgba(243,239,230,.92);
  border-bottom: 1px solid var(--rule);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

/* desktop: sticky */
@media (min-width: 64em){
  .masthead{
    position: sticky;
    top: 0;
    z-index: 9999;
  }
}

/* titres header */
.masthead__menu-item a,
.greedy-nav a.site-title{
  font-family: "JetBrains Mono", ui-monospace, Menlo, monospace;
  letter-spacing: .2px;
}

/* ---------- Images ---------- */
.page__content img{
  display: block;
  margin: 1.2rem auto;
  max-width: 860px;
  width: 100%;
  border-radius: 14px;
  border: 1px solid var(--rule);
  box-shadow: 0 10px 25px var(--shadow);
}

/* ---------- Code blocks ---------- */
pre{
  background: #ffffff;
  border: 1px solid var(--rule);
  border-radius: 12px;
  padding: 1rem;
  box-shadow: 0 8px 18px var(--shadow);
}

/* =========================================================
   TABLES — desktop wrap + mobile scroll
   ========================================================= */

.page__content table{
  width: 100% !important;
  max-width: 100% !important;
  border-collapse: collapse;
  margin: 1.6rem 0;
  background: var(--paper2);
  border: 1px solid var(--rule);
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 8px 18px var(--shadow);
  font-size: .9rem;
}

/* cells wrap by default (Mac friendly) */
.page__content th,
.page__content td{
  padding: 10px 12px;
  vertical-align: top;
  white-space: normal !important;
  overflow-wrap: anywhere;
  word-break: break-word;
}

.page__content th{
  background: rgba(0,0,0,.06);
  color: var(--ink);
  text-align: left;
  border-bottom: 1px solid var(--rule);
  font-family: "JetBrains Mono", ui-monospace, Menlo, monospace;
  font-size: .8rem;
  text-transform: uppercase;
  letter-spacing: .18px;
}

.page__content td{
  border-bottom: 1px solid rgba(0,0,0,.08);
}

.page__content tr:hover{
  background: rgba(29,122,80,.06);
}

/* if table still overflows, allow horizontal scroll (any screen) */
.page__content table{
  display: block;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

/* keep header row readable while scrolling horizontally */
.page__content thead{
  position: sticky;
  top: 0;
  z-index: 1;
}

/* =========================================================
   SIDEBAR — desktop: vraie colonne gauche (pas une “carte”)
   ========================================================= */

.sidebar{
  background: transparent;
  border: 0;
  border-radius: 0;
  box-shadow: none;
  padding: 0;
}

.sidebar a{
  color: var(--ink);
  text-decoration: none;
  border-left: 2px solid transparent;
  padding-left: .55rem;
  display: block;
  line-height: 1.35;
}

.sidebar a:hover{
  color: var(--toxic);
  border-left-color: var(--toxic);
}

/* Desktop: on cache le titre “Toggle Menu” (inutile) et on laisse la liste en colonne */
@media (min-width: 64em){
  .sidebar .nav__title{ display:none !important; }
  .sidebar nav{
    border-left: 1px solid var(--rule);
    padding-left: 1rem;
    margin-top: .5rem;
  }
}

/* =========================================================
   iPHONE / MOBILE — UN SEUL MENU DANS LA BARRE DU HAUT
   On utilise le menu de sidebar (nav__list) comme menu principal.
   ========================================================= */

@media (max-width: 63.9375em) and (hover: none) and (pointer: coarse){

  /* Header fixé */
  .masthead{
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    z-index: 99999 !important;
  }

  /* réserve l’espace sous la barre + safe area */
  body{
    padding-top: calc(env(safe-area-inset-top, 0px) + var(--masthead-h)) !important;
  }

  /* On évite le “double bouton” : on tue le toggle du greedy-nav */
  .greedy-nav__toggle{
    display: none !important;
  }

  /* On garde de la place à droite du titre (pour le hamburger) */
  .masthead__inner-wrap{
    padding-right: 64px !important;
  }

  /* Le label du menu sidebar = NOTRE bouton hamburger */
  .nav__list label{
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;

    position: fixed !important;
    top: calc(env(safe-area-inset-top, 0px) + 10px) !important;
    right: 12px !important;
    left: auto !important;

    width: 44px !important;
    height: 34px !important;

    padding: 0 !important;
    margin: 0 !important;

    border-radius: 12px !important;
    border: 1px solid rgba(0,0,0,.14) !important;
    background: rgba(251,248,242,.78) !important;
    box-shadow: 0 8px 18px rgba(0,0,0,.10) !important;

    /* on masque le texte “Toggle menu” */
    font-size: 0 !important;
    color: transparent !important;
    z-index: 100000 !important;
  }

  /* On remplace les pseudo barres +/– du thème par un hamburger propre */
  .nav__list label::before{
    content: "☰" !important;
    font-size: 20px !important;
    line-height: 1 !important;
    color: var(--ink) !important;
    position: static !important;
    width: auto !important;
    height: auto !important;
    background: transparent !important;
  }
  .nav__list label::after{
    content: "" !important;
    display: none !important;
  }

  /* Le menu (nav__items) s’ouvre en plein large sous la barre */
  .nav__list .nav__items{
    position: fixed !important;
    top: calc(env(safe-area-inset-top, 0px) + var(--masthead-h)) !important;
    left: 0 !important;
    right: 0 !important;
    z-index: 99998 !important;

    background: rgba(251,248,242,.98) !important;
    border-bottom: 1px solid rgba(0,0,0,.12) !important;
    box-shadow: 0 18px 40px rgba(0,0,0,.12) !important;

    padding: .8rem 1rem !important;

    max-height: 70vh !important;
    overflow: auto !important;
    -webkit-overflow-scrolling: touch;

    /* état fermé par défaut (le thème gère aussi max-height/opacity) */
  }

  /* liens menu plus “tap-friendly” */
  .nav__list .nav__items a{
    padding: .55rem .25rem .55rem .65rem !important;
    border-left: 2px solid transparent;
    font-size: 1rem;
  }
  .nav__list .nav__items a:hover{
    border-left-color: var(--toxic);
  }

  /* On cache le titre du bloc (si le thème l’affiche) */
  .nav__title{
    display: none !important;
  }
}

/* =========================================================
   Marker de debug (pour grep dans main.css)
   ========================================================= */
:root{ --HORTUS_MARKER_20260221_1413: 1; }
